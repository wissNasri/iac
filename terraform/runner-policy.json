{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "EKSKubeconfigAccess",
            "Effect": "Allow",
            "Action": "eks:DescribeCluster",
            "Resource": "arn:aws:eks:us-east-1:228578233417:cluster/tws-eks-cluster"
        },
        {
            "Sid": "TerraformStateBackend",
            "Effect": "Allow",
            "Action": [
                "s3:GetObject",
                "s3:PutObject",
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::terraform-s3-backend-tws-hackathon111",
                "arn:aws:s3:::terraform-s3-backend-tws-hackathon111/apps/*"
            ]
        },
        {
            "Sid": "DynamoDBLocking",
            "Effect": "Allow",
            "Action": [
                "dynamodb:GetItem",
                "dynamodb:PutItem",
                "dynamodb:DeleteItem"
            ],
            "Resource": "arn:aws:dynamodb:us-east-1:228578233417:table/terraform-locks"
        },
        {
            "Sid": "IAMPassRoleForOIDC",
            "Effect": "Allow",
            "Action": "iam:PassRole",
            "Resource": [
                "arn:aws:iam::228578233417:role/AmazonEKSLoadBalancerControllerRole",
                "arn:aws:iam::228578233417:role/AmazonEKS_EBS_CSI_DriverRole"
            ]
        },
        {
            "Sid": "ALBControllerPermissions",
            "Effect": "Allow",
            "Action": [
                "ec2:CreateSecurityGroup",
                "ec2:AuthorizeSecurityGroupIngress",
                "elasticloadbalancing:CreateLoadBalancer",
                "elasticloadbalancing:CreateTargetGroup",
                "elasticloadbalancing:CreateListener",
                "iam:CreateServiceLinkedRole"
            ],
            "Resource": "*"
        }
    ]
}
